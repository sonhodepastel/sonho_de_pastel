<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ff0000">
    <link rel="manifest" href="manifest.json">
    <title>Card√°pio Interativo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="icon" sizes="192x192" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">
   <style>
        .categories {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            background-color: #000;
            padding: 10px 0;
        }

        .categories .category {
            flex: 0 0 auto;
            margin: 0 10px;
            padding: 10px 20px;
            background-color: #ff0000;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
        }

        .categories .category:hover {
            background-color: #cc0000;
        }

        .cart {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: white;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            width: 300px;
            max-height: 70vh;
            overflow-y: auto;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
            display: none;
        }

        #cart-toggle, #cart-minimize {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #ff0000;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
        }

        #cart-toggle:hover, #cart-minimize:hover {
            background-color: #cc0000;
        }

        #cart-minimize {
            display: none;
        }

        .delivery-form {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 400px;
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-red-600 text-white text-center py-4 text-2xl">
        Card√°pio Interativo
    </header>

    <!-- Categorias -->
    <div class="categories">
        <div class="category" onclick="scrollToCategory('burgers')">Burgers</div>
        <div class="category" onclick="scrollToCategory('pizzas')">Pizzas</div>
        <div class="category" onclick="scrollToCategory('bebidas')">Bebidas</div>
        <div class="category" onclick="scrollToCategory('sobremesas')">Sobremesas</div>
    </div>

    <!-- Produtos -->
    <div class="container mx-auto px-4 py-8">
        <!-- Categoria Burgers -->
        <div id="burgers" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            <h2 class="col-span-full text-2xl font-bold text-gray-800">Burgers</h2>
            <div class="product bg-white rounded-lg shadow-md overflow-hidden">
                <img src="hamb√∫rguer.jpeg" alt="Hamb√∫rguer Cl√°ssico" class="w-full h-40 object-cover">
                <div class="p-4">
                    <h3 class="text-lg font-semibold">Hamb√∫rguer Cl√°ssico</h3>
                    <p class="text-gray-600">Carne grelhada, queijo e alface.</p>
                    <button onclick="addToCart('Hamb√∫rguer Cl√°ssico', 25.00)" class="bg-red-600 text-white px-4 py-2 mt-3 rounded hover:bg-red-500">
                        Adicionar ao Carrinho
                    </button>
                </div>
            </div>
        </div>

        <!-- Categoria Pizzas -->
        <div id="pizzas" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-12">
            <h2 class="col-span-full text-2xl font-bold text-gray-800">Pizzas</h2>
            <div class="product bg-white rounded-lg shadow-md overflow-hidden">
                <img src="pizza-calabresa.jpeg" alt="Pizza Calabresa" class="w-full h-40 object-cover">
                <div class="p-4">
                    <h3 class="text-lg font-semibold">Pizza de Calabresa</h3>
                    <p class="text-gray-600">Molho de tomate, calabresa e queijo.</p>
                    <button onclick="addToCart('Pizza de Calabresa', 35.00)" class="bg-red-600 text-white px-4 py-2 mt-3 rounded hover:bg-red-500">
                        Adicionar ao Carrinho
                    </button>
                </div>
            </div>
        </div>

        <!-- Categoria Bebidas -->
        <div id="bebidas" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-12">
            <h2 class="col-span-full text-2xl font-bold text-gray-800">Bebidas</h2>
            <div class="product bg-white rounded-lg shadow-md overflow-hidden">
                <img src="coca-cola.jpeg" alt="Refrigerante Lata" class="w-full h-40 object-cover">
                <div class="p-4">
                    <h3 class="text-lg font-semibold">Refrigerante</h3>
                    <p class="text-gray-600">Lata 350ml.</p>
                    <button onclick="addToCart('Refrigerante', 5.00)" class="bg-red-600 text-white px-4 py-2 mt-3 rounded hover:bg-red-500">
                        Adicionar ao Carrinho
                    </button>
                </div>
            </div>
        </div>

        <!-- Categoria Sobremesas -->
        <div id="sobremesas" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mt-12">
            <h2 class="col-span-full text-2xl font-bold text-gray-800">Sobremesas</h2>
            <div class="product bg-white rounded-lg shadow-md overflow-hidden">
                <img src="bolo.jpg" alt="Bolo de Chocolate" class="w-full h-40 object-cover">
                <div class="p-4">
                    <h3 class="text-lg font-semibold">Bolo de Chocolate</h3>
                    <p class="text-gray-600">Fatia generosa.</p>
                    <button onclick="addToCart('Bolo de Chocolate', 10.00)" class="bg-red-600 text-white px-4 py-2 mt-3 rounded hover:bg-red-500">
                        Adicionar ao Carrinho
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bot√µes do Carrinho -->
    <div id="cart-toggle" onclick="toggleCart()">üõí</div>
    <div id="cart-minimize" onclick="toggleCart()">‚úñ</div>

    <!-- Carrinho -->
    <div class="cart">
        <h4 class="text-lg font-semibold mb-3">Carrinho</h4>
        <div class="cart-summary"></div>
        <div id="cart-total" class="text-right font-semibold text-gray-800 mt-3">Total: R$ 0.00</div>
        <button onclick="showDeliveryForm()" class="bg-red-600 text-white px-4 py-2 mt-4 rounded w-full hover:bg-red-500">
            Finalizar Pedido
        </button>
    </div>

    <!-- Formul√°rio de Entrega -->
    <div class="delivery-form" id="delivery-form">
        <h4 class="text-lg font-semibold mb-4">Dados para Entrega</h4>
        <form id="deliveryForm">
            <label class="block mb-2">
                Nome:
                <input type="text" id="name" class="w-full border rounded p-2" required>
            </label>
            <label class="block mb-2">
                Telefone:
                <input type="tel" id="phone" class="w-full border rounded p-2" required>
            </label>
            <label class="block mb-2">
                Endere√ßo:
                <input type="text" id="address" class="w-full border rounded p-2" required>
            </label>
            <label class="block mb-4">
                Forma de Pagamento:
                <select id="payment" class="w-full border rounded p-2" required onchange="updatePaymentOptions()">
                    <option value="">Selecione</option>
                    <option value="Pix">Pix</option>
                    <option value="Cart√£o">Cart√£o</option>
                    <option value="Dinheiro">Dinheiro</option>
                </select>
            </label>
            <div id="pix-options" class="hidden mb-4">
                <p class="text-sm text-gray-600">Chave Pix: <span class="font-semibold">071.315.084-03</span></p>
                <button type="button" onclick="copyPixKey()" class="bg-gray-800 text-white px-4 py-2 rounded">Copiar Chave Pix</button>
                <p class="text-sm text-gray-500 mt-2">Envie o comprovante do Pix para concluir o pedido.</p>
            </div>
            <div id="money-options" class="hidden mb-4">
                <label class="block mb-2">
                    Precisa de troco?
                    <input type="checkbox" id="need-change" onchange="toggleChangeField()">
                </label>
                <div id="change-field" class="hidden">
                    <label class="block">
                        Troco para:
                        <input type="number" id="change-amount" class="w-full border rounded p-2" placeholder="Valor em R$">
                    </label>
                </div>
            </div>
            <button type="button" onclick="sendOrder()" class="bg-red-600 text-white px-4 py-2 rounded w-full hover:bg-red-500">
                Enviar Pedido
            </button>
        </form>
    </div>

    <script>
        let cart = [];

        function addToCart(item, price) {
            cart.push({ item, price });
            Swal.fire({
                title: 'Adicionado ao carrinho!',
                text: `${item} foi adicionado ao carrinho.`,
                icon: 'success',
                timer: 1500,
                showConfirmButton: false
            });
            updateCart();
        }

        function updateCart() {
            const cartSummary = document.querySelector('.cart-summary');
            const cartTotal = document.getElementById('cart-total');
            cartSummary.innerHTML = '';
            let total = 0;

            cart.forEach((product, index) => {
                const div = document.createElement('div');
                div.className = 'flex justify-between items-center mb-2';
                div.innerHTML = `
                    <span>${product.item}</span>
                    <span class="flex items-center gap-2">
                        R$ ${product.price.toFixed(2)} 
                        <button onclick="removeFromCart(${index})" class="text-red-600 hover:text-red-800">Remover</button>
                    </span>`;
                cartSummary.appendChild(div);
                total += product.price;
            });

            cartTotal.textContent = `Total: R$ ${total.toFixed(2)}`;
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCart();
        }

        function toggleCart() {
            const cartDiv = document.querySelector('.cart');
            const cartToggle = document.getElementById('cart-toggle');
            const cartMinimize = document.getElementById('cart-minimize');

            if (cartDiv.style.display === 'block') {
                cartDiv.style.display = 'none';
                cartMinimize.style.display = 'none';
                cartToggle.style.display = 'block';
            } else {
                cartDiv.style.display = 'block';
                cartMinimize.style.display = 'block';
                cartToggle.style.display = 'none';
            }
        }

        function scrollToCategory(category) {
            const element = document.getElementById(category);
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function showDeliveryForm() {
            if (cart.length === 0) {
                Swal.fire({
                    title: 'Erro!',
                    text: 'Seu carrinho est√° vazio.',
                    icon: 'error'
                });
                return;
            }
            document.getElementById('delivery-form').style.display = 'block';
        }

        function updatePaymentOptions() {
            const payment = document.getElementById('payment').value;
            document.getElementById('pix-options').classList.add('hidden');
            document.getElementById('money-options').classList.add('hidden');

            if (payment === 'Pix') {
                document.getElementById('pix-options').classList.remove('hidden');
            } else if (payment === 'Dinheiro') {
                document.getElementById('money-options').classList.remove('hidden');
            }
        }

        function toggleChangeField() {
            const needChange = document.getElementById('need-change').checked;
            const changeField = document.getElementById('change-field');
            changeField.classList.toggle('hidden', !needChange);
        }

        function copyPixKey() {
            navigator.clipboard.writeText('071.315.084-03').then(() => {
                Swal.fire({
                    title: 'Chave Pix copiada!',
                    text: 'Envie o comprovante para concluir o pedido.',
                    icon: 'info',
                });
            });
        }

        function sendOrder() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const payment = document.getElementById('payment').value;

            if (!name || !phone || !address || !payment) {
                Swal.fire({
                    title: 'Erro!',
                    text: 'Preencha todos os campos.',
                    icon: 'error'
                });
                return;
            }

            let changeMessage = '';
            if (payment === 'Dinheiro') {
                const needChange = document.getElementById('need-change').checked;
                if (needChange) {
                    const changeAmount = document.getElementById('change-amount').value;
                    if (!changeAmount) {
                        Swal.fire({
                            title: 'Erro!',
                            text: 'Informe o valor para troco.',
                            icon: 'error'
                        });
                        return;
                    }
                    changeMessage = `üíµ Troco para: R$ ${parseFloat(changeAmount).toFixed(2)}`;
                } else {
                    changeMessage = 'üíµ N√£o precisa de troco.';
                }
            }

            const items = cart.map(({ item, price }) => `- ${item}: R$ ${price.toFixed(2)}`).join('\n');
            const total = cart.reduce((sum, product) => sum + product.price, 0).toFixed(2);
            const message = `
üîñ *Resumo do Pedido*:
${items}

üí∞ *Total*: R$ ${total}
üìû *Contato*: ${name} - ${phone}
üìç *Endere√ßo*: ${address}
üí≥ *Pagamento*: ${payment}
${changeMessage}
            `;

            window.open(`https://wa.me/5585994530854?text=${encodeURIComponent(message)}`, '_blank');
        }
    </script>
</body>
</html>
